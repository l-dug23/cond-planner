<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Conditioning Analysis</title>
<link rel="stylesheet" href="style.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.29/jspdf.plugin.autotable.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
<header>
	<h1>Boz's Conditioning Profiler, Planner and Visualiser</h1>
	<img src="logo.jpg" alt="graph of critical power">
	<p class="description">Physically profile you or your athlete(s). Create graphs of your sessions with target time at certain pace/power/HR zones and predict load and intensity from session. Build 	progressions and review effectiveness. Graph actute:chronic training loads and fitness:fatigue:Freshness over time</p>
<nav>
	<ul>
		<li><a href="#cycling">Cycling</a></li>
		<li><a href="#running">Running</a></li>
		<li><a href="#ASR">ASR</a></li>
		<li><a href="#RSA">RSA</a></li>
	</ul>
</nav>
</header>
<main>
<section id="cycling">
	<h2>Cycling<img src="cycling.svg" style="height:20px; vertical-align:middle; margin-left:10px;" alt="picture of cycling"></h2>
	<h3>1. Physical Profiling: Basic FTP and advanced CP and W'</h3>
	<p class="description">Using either 2 or 3 parameter models calculate CP and W' and predict potential outputs for certain time domains. Generate training zones and estimate 	physiological 	thresholds</p>

	<form id="cp-form">
	<p>Enter your peak numbers (avg. watts) for analysis here:</p>
	<label for="name">Name</label>
	<input type="text" id="cp-name" name="name" placeholder="Lee Douglas" maxlength="12">
	<label for="1min">1min Watts:</label>
	<input type="number" id="1min" name="1min" placeholder="400" min="1" max="2000">
	<label for="3min">3min Watts:</label>
	<input type="number" id="3min" name="3min" placeholder="350" min="1" max="2000">
	<label for="6min">6min Watts:</label>
	<input type="number" id="6min" name="6min" placeholder="300" min="1" max="2000">
	<label for="12min">12min Watts:</label>
	<input type="number" id="12min" name="12min" placeholder="290" min="1" max="2000">
	<label for="20min">20min Watts:</label>
	<input type="number" id="20min" name="20min" placeholder="270" min="1" max="2000" required>
	<br>
	<button type="button" id="save-athlete">Save Athlete Data</button>
	<label for="athlete-select">Recall saved athlete:</label>
	<select id="athlete-select">
		<option value="">Select athlete</option></select>
	<br>
	<p>Select which model to use:</p>
	<label><input type="radio" name="Model" value="2pModel" checked>2P model</label>
	<label><input type="radio" name="Model" value="3pModel">3P model</label>
	<button type="submit">Calculate</button>
	</form>

<hr></hr>
	<h3>2. Results and Training Zones</h3>
	<p id="results"></p>
<hr></hr>
	<h3>3. Plan sessions based of profiling</h3>
	<p>Select which marker to use for training</p>
	<form id="train-select">
	<label><input type="radio" name="trainBase" value="FTP"> FTP</label>
	<label><input type="radio" name="trainBase" value="CP" checked> CP</label>
	</form>

	<textarea id="session-input" rows="6" cols="50" placeholder="e.g.
	Warm up>>
	10min @ 60%
	Main Set>>
	5x (3min @ 120%, 2min @ 50%)
	Cool Down>>
	10min @ 55%"></textarea>
<br>
	<div class="session-graph">
	<button id="generate-session">Generate Graph</button>
	<canvas id="session-graph" width="500" height="200"></canvas>
	<button id="download-pdf">Download PDF</button>
	<button id="export-.zwo">Export .ZWO</button>
	<button id="export-.fit">Export .fit</button>
	</div>
	<br>
	<div class="metric-box">
		<h3>Session Metrics</h3>
  <ul>
    <li>Average Power: <span id="avg-power">--</span> W</li>
    <li>Normalized Power: <span id="np">--</span> W</li>
    <li>Variability Index: <span id="vi">--</span></li>
    <li>Total Work: <span id="work">--</span> kJ</li>
    <li>Work Above CP: <span id="work-above">--</span> kJ</li>
    <li>Intensity Factor: <span id="if">--</span></li>
    <li>Load (TSS): <span id="tss">--</span></li>
  </ul>

	</div>
<!--Time in Zones & polarisation & target of the session-->
<!--Add in a session save button with ability to name session and recall (library)-->
<!--Calendar drag and drop sessions into, pdf programme and plot fitness fatigue form-->
<!--ability to export raw workout to go into zwift / garmin etc-->

</section>
<hr></hr>
<section>
	<h4>Links to methods used to generate this analysis</h4>
	<ul>
	<li><a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC5070974/?utm_source=chatgpt.com" target="blank">2p CP Model</a></li>
	<li><a href="https://pubmed.ncbi.nlm.nih.gov/8854981/" target="blank">3p CP Model</a></li>
	<li><a href="https://pubmed.ncbi.nlm.nih.gov/22382171/" target="blank">Skiba W'bal model</a></li>
	<li><a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC8220144/?utm_source=chatgpt.com" target="blank">Predicted LT</a></li>
	<li><a href="https://www.wattkg.com/functional-threshold-power/?utm_source=chatgpt.com" target="blank">FTP Coggan Calculation</a></li>
	<li><a href="https://www.trainingpeaks.com/blog/power-training-levels/?utm_source=chatgpt.com" target="blank">Training Zones</a></li>
</ul>

</section>

<hr></hr>
<section id="running">
	<h2>Running<img src="Running.svg" style="height:20px; vertical-align:middle; margin-left:10px;" alt="picture of running"></h2>
	<h3>1. Physical Profiling: Basic thresholds and advanced CS and D'</h3>
	<p class="description">Using either 2 or 3 parameter models calculate CS and D' and predict potential outputs for certain time domains. Generate 	training zones and estimate 	physiological 	thresholds</p>

	<form id="cs-form">
	<p>Enter your peak numbers (avg. pace/km) for analysis here:</p>
	<label for="name">Name</label>
	<input type="text" id="cs-name" name="name" placeholder="Lee Douglas" maxlength="12">
	<label for="1km">1km Pace:</label>
	<input type="time" id="1km" name="1km" step="1" placeholder="03:30" min="0:01" max="20:00">
	<label for="3km">3km Pace:</label>
	<input type="time" id="3km" name="3km" step="1" placeholder="04:00" min="0:01" max="20:00">
	<label for="5km">5km Pace:</label>
	<input type="time" id="5km" name="5km" step="1" placeholder="04:30" min="0:01" max="20:00" required>
	<label for="10km">10km Pace:</label>
	<input type="time" id="10km" name="10km" step="1" placeholder="05:00" min="0:01" max="20:00">
	<p>Select which model to use:</p>
	<label><input type="radio" name="Model" value="2pModel" checked>2P model</label>
	<label><input type="radio" name="Model" value="3pModel">3P model</label>
	<button type="submit">Calculate</button>
	</form>
<hr></hr>

	<h3>2. Results and Training Zones</h3>
	<p id="run-results"></p>
<hr></hr>
  	<h3>3. Plan running sessions based on profiling</h3>
  	<textarea id="run-session-input" rows="6" cols="50" placeholder="e.g.
	warm up>>
	10min @ 95%CS
	Main Set>>
	6x (3min @ 110%CS, 2min @ 80%CS)
	Cool Down>>
	20min @ 5:30/km"></textarea>
  <br>
	<div class="session-graph">
  	<button id="generate-run-session">Generate Running Graph</button>
  	<canvas id="run-session-graph" width="500" height="200"></canvas>
	<button id="download-run-pdf">Download Run PDF</button>
	</div>

<hr></hr>

<div class="run-metric-box">
  <h3>Running Session Metrics</h3>
  <ul>
    <li>Average Speed: <span id="run-avg-speed">--</span> m/s (<span id="run-avg-pace">--</span>/km)</li>
	<li>Normalized Speed: <span id="run-ns">--</span> m/s (<span id="run-ns-pace">--</span>/km)</li>
    <li>Variability Index: <span id="run-vi">--</span></li>
    <li>Intensity Factor: <span id="run-if">--</span></li>
    <li>Training Load (rTSS): <span id="run-tss">--</span></li>
  </ul>
</div>
</section>

<hr>

<section id="ASR">
	<h2>Anaerobic Speed Reserve</h2>
</section>

<hr>

<section id="RSA">
<h2>Repeat Sprint Ability (RSA)</h2>
</section>

</main>
<!-- External JS file -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@1.4.0"></script>
<script src="script.js"></script>
</body>
</html>
