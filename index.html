<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Conditioning Analysis</title>
<link rel="stylesheet" href="style.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.29/jspdf.plugin.autotable.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
<header>
	<h1>Boz's Conditioning Profiler, Planner and Visualiser</h1>
	<figure>
	<img src="logo.jpg" alt="graph of critical power">
	<figcaption>
		Figure 1. The two-parameter model. a the hyperbolic form and b the liner transformation with critical power (CP) as the y-intercept and curvature constant (W') as the slope <span class="highlight">(Sreedhara et al. Sports Medicine, 2019)</span>
	</figcaption></figure>
	<p class="description">Physically profile you or your athlete(s). Create graphs of your sessions with target time at certain pace/power/HR zones and predict load and intensity from session. Build 	progressions and review effectiveness. Graph actute:chronic training loads and fitness:fatigue:form over time</p>
<nav>
  <ul>
    <li><a href="#cycling">Cycling CP</a></li>
    <li><a href="#running">Running CS</a></li>
    <li><a href="#ASR">ASR</a></li>
    <li><a href="#RSA">RSA</a></li>
	<li><a href="#programming">Programming</a></li>

    <!-- New dropdown -->
    <li class="dropdown">
      <a href="#">Methods â–¾</a>
      <ul class="dropdown-content">
		<li><a href="https://sportsmedicine-open.springeropen.com/articles/10.1186/s40798-019-0230-z" target="_blank" rel="noopener">Models of Performance using Power and Energy</a></li>
        <li><a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC5070974/" target="_blank" rel="noopener">2p CP Model</a></li>
        <li><a href="https://pubmed.ncbi.nlm.nih.gov/8854981/" target="_blank" rel="noopener">3p CP Model</a></li>
        <li><a href="https://pubmed.ncbi.nlm.nih.gov/22382171/" target="_blank" rel="noopener">Skiba W'bal model</a></li>
        <li><a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC8220144/" target="_blank" rel="noopener">Predicted LT</a></li>
        <li><a href="https://www.wattkg.com/functional-threshold-power/" target="_blank" rel="noopener">FTP Coggan Calculation</a></li>
        <li><a href="https://www.trainingpeaks.com/blog/power-training-levels/" target="_blank" rel="noopener">Training Zones</a></li>
      </ul>
    </li>
  </ul>
</nav>

</header>


<main class="content">
	<!--add chat bot-->
	
<div id="chatbox" style="display:none;">
  <div id="messages"></div>
  <div class="input-area">
    <input type="text" id="userInput" placeholder="Type a message...">
    <button id="sendBtn">Send</button>
  </div>
</div>
<div id="chatButton">Boz-AIðŸ§ </div>

<section id="cycling">
	<!-- <h2>Cycling<img src="cycling.svg" style="height:20px; vertical-align:middle; margin-left:10px;" alt="picture of cycling"></h2> -->
	 <h2>Cycling
		<div class="wheel">
      <span class="line"></span>
      <span class="line"></span>
      <span class="line"></span>
      <span class="line"></span>
      <span class="line"></span>
      <span class="line"></span>
    </div>
	 </h2>
	<h3>1. Physical Profiling: Basic FTP and advanced CP and W'</h3>
	<p class="description">Using either 2 or 3 parameter models calculate CP and W' and predict potential outputs for certain time domains. Generate training zones and estimate 	physiological 	thresholds</p>

	<form id="cp-form">
	<p class="forminput">Enter your peak numbers (avg. watts) for analysis here:</p>
	<label for="name">Name</label>
	<input type="text" id="cp-name" name="name" placeholder="Lee Douglas" maxlength="12">
	<label for="p1min">1min Watts:</label>
	<input type="number" id="p1min" name="1min" placeholder="400" min="1" max="2000">
	<label for="p3min">3min Watts:</label>
	<input type="number" id="p3min" name="3min" placeholder="350" min="1" max="2000">
	<label for="p6min">6min Watts:</label>
	<input type="number" id="p6min" name="6min" placeholder="300" min="1" max="2000">
	<label for="p12min">12min Watts:</label>
	<input type="number" id="p12min" name="12min" placeholder="290" min="1" max="2000">
	<label for="p20min">20min Watts:</label>
	<input type="number" id="p20min" name="20min" placeholder="270" min="1" max="2000" required>
	<br>
	<button type="button" id="save-athlete">Save Athlete Data</button>
	<label for="athlete-select">Recall saved athlete:</label>
	<select id="athlete-select">
		<option value="">Select athlete</option></select>
	<br>
	<p>Select which model to use:</p>
	<label><input type="radio" name="cycleModel" value="2pModel" checked>2P model</label>
	<label><input type="radio" name="cycleModel" value="3pModel">3P model</label>
	<button type="submit">Calculate</button>
	</form>

<hr>
	<h3>2. Results and Training Zones</h3>
	<p id="results"></p>
	<div id="cycle-predictions"></div>
<div id="cycle-zones" class="zone-table"></div>

<hr>
	<h3>3. Plan sessions based of profiling</h3>
	<p>Select which marker to use for training</p>
	<form id="train-select">
	<label><input type="radio" name="trainBase" value="FTP"> FTP</label>
	<label><input type="radio" name="trainBase" value="CP" checked> CP</label>
	</form>

	<textarea id="session-input" rows="6" cols="50" placeholder="e.g.
	Warm up>>
	10min @ 60%
	Main Set>>
	5x (3min @ 120%, 2min @ 50%)
	Cool Down>>
	10min @ 55%"></textarea>
	<br>
<div class="session-save-controls" style="margin-bottom:10px;">
  <input type="text" id="session-name" placeholder="Session name" style="width:180px;">
  <button id="save-session" class="btn">Save Session</button>
  <select id="session-select">
    <option value="">Select session</option>
  </select>
</div>

<br>
	<div class="session-graph">
	<button id="generate-session">Generate Graph</button>
	<canvas id="session-graph" width="500" height="200"></canvas>
	<button id="download-pdf">Download PDF</button>
	<button id="export-.zwo">Export .ZWO</button>
	<button id="export-.fit">Export .fit</button>
	</div>
	<br>
	<div class="metric-box">
		<h3>Session Metrics</h3>
  <ul>
    <li>Average Power: <span id="avg-power">--</span> W</li>
    <li>Normalized Power: <span id="np">--</span> W</li>
    <li>Variability Index: <span id="vi">--</span></li>
    <li>Total Work: <span id="work">--</span> kJ</li>
    <li>Work Above CP: <span id="work-above">--</span> kJ</li>
    <li>Intensity Factor: <span id="if">--</span></li>
    <li>Load (TSS): <span id="tss">--</span></li>
  </ul>
  </div>
  <br>
  <div class="polarisation-box">
 	<h3>Polarisation Metrics</h3>
	<!--add results in time spent in zones adn polarisation index and outcome-->
  </div>
<!--Calendar drag and drop sessions into, pdf programme and plot fitness fatigue form-->
<!--ability to export raw workout to go into zwift / garmin etc-->
</section>
<hr>

<section id="running">
	<h2>Running<img src="Running.svg" style="height:20px; vertical-align:middle; margin-left:10px;" alt="picture of running"></h2>
	<h3>1. Physical Profiling: Basic thresholds and advanced CS and D'</h3>
	<p class="description">Using either 2 or 3 parameter models calculate CS and D' and predict potential outputs for certain time domains. Generate 	training zones and estimate 	physiological 	thresholds</p>
		
	<div class="runner-controls">
  <label for="runner-select">Recall Athlete:</label>
  <select id="runner-select">
    <option value="">Select Athlete</option>
  </select>
  <button id="save-runner" type="button">Save Runner</button>
</div>
<div id="run-options" style="margin-bottom:10px">
  <label>
    Units:
    <select id="unit-toggle">
      <option value="metric" selected>Metric (km)</option>
      <option value="imperial">Imperial (mi)</option>
    </select>
  </label>
  &nbsp;&nbsp;
  <label>
    Input mode:
    <select id="input-toggle">
      <option value="pace" selected>Pace (per km/mi)</option>
      <option value="duration">Total time</option>
    </select>
  </label>
</div>

	<form id="cs-form">
	<p class="forminput">Enter your peak numbers for analysis here:</p>
	<label for="name">Name</label>
	<input type="text" id="cs-name" name="name" placeholder="Lee Douglas" maxlength="15">
	<div id="cs-inputs"></div>
	<p>Select which model to use:</p>
	<label><input type="radio" name="Model" value="2pModel" checked>2P model</label>
	<label><input type="radio" name="Model" value="3pModel">3P model</label>
	<button type="submit">Calculate</button>
	</form>
<hr>

	<h3>2. Results and Training Zones</h3>
	<p id="run-results"></p>
	<div id="run-predictions"></div>
<div id="run-zones" class="zone-table"></div>

<hr>
  	<h3>3. Plan running sessions based on profiling</h3>
  	<textarea id="run-session-input" rows="6" cols="50" placeholder="e.g.
	warm up>>
	10min @ 95%CS
	Main Set>>
	6x (3min @ 110%CS, 2min @ 80%CS)
	Cool Down>>
	20min @ 5:30/km"></textarea>
	<br>
	<div class="run-session-save-controls" style="margin-bottom:10px;">
  <input type="text" id="run-session-name" placeholder="Session name" style="width:180px;">
  <button id="run-save-session" class="btn">Save Session</button>
  <select id="run-session-select">
    <option value="">Select session</option>
  </select>
</div>
  <br>
	<div class="session-graph">
  	<button id="generate-run-session">Generate Running Graph</button>
  	<canvas id="run-session-graph" width="500" height="200"></canvas>
	<button id="download-run-pdf">Download Run PDF</button>
	</div>

<hr>

<div class="run-metric-box">
  <h3>Running Session Metrics</h3>
  <ul>
    <li>Average Speed: <span id="run-avg-speed">--</span> m/s (<span id="run-avg-pace">--</span>/km)</li>
	<li>Normalized Speed: <span id="run-ns">--</span> m/s (<span id="run-ns-pace">--</span>/km)</li>
    <li>Variability Index: <span id="run-vi">--</span></li>
    <li>Intensity Factor: <span id="run-if">--</span></li>
    <li>Training Load (rTSS): <span id="run-tss">--</span></li>
  </ul>
</div>
  <div class="run-polarisation-box">
 	<h3>Polarisation Metrics</h3>
	<!--add results in time spent in zones adn polarisation index and outcome-->
  </div>
</section>

<hr>

<section id="ASR">
	<h2>Anaerobic Speed Reserve (ASR)</h2>
	<h3>1. Calculate anaerobic speed reserve and produce predicted times/distances for certain efforts for training</h3>
	<div class="asr-metric-input">
		<form id="asr-form">
<p class="asr-form-input">Enter your maximal aerobic speed (m/s) and maximum speed (m/s) to calculate ASR</p>
<label for="mas">Maximal Aerobic Speed (m/s)</label>
<input type="number" id="mas" name="mas" placeholder="3.5" step="0.1" min="0.1" max="5">
<label for="mxs">Maximum Speed (m/s)</label>
<input type="number" id="mxs" name="mxs" placeholder="9.5" step="0.1" min="0.1" max="11">
<button type="submit">Calculate</button>
		</form>
	</div>
<hr>

<div class="asr-results-report">
	<h3>2. Results</h3>
	<p class="asr-results"></p>
	</div>

<hr>

<div class="asr-workout-builder">
<h3>3. Plan Workouts</h3>
</div>

</section>

<hr>

<section id="RSA">
<h3>Repeat Sprint Ability (RSA)</h3>
<p>1. Enter data of your specific repeat sprint test</p>
<div class="rsaform">
	<form id="rsa-input"></form>
	<label for="rep1">Rep 1</label>
	<input type="number" name="rep1" id="rep1" placeholder="3.9" step="0.1" min="0.1" max="10">
	<label for="rep2">Rep 2</label>
	<input type="number" name="rep2" id="rep2" placeholder="3.9" step="0.1" min="0.1" max="10">
	<label for="rep3">Rep 3</label>
	<input type="number" name="rep3" id="rep3" placeholder="3.9" step="0.1" min="0.1" max="10">
	<label for="rep4">Rep 4</label>
	<input type="number" name="rep4" id="rep4" placeholder="3.9" step="0.1" min="0.1" max="10">
	<label for="rep5">Rep 5</label>
	<input type="number" name="rep5" id="rep5" placeholder="3.9" step="0.1" min="0.1" max="10">
	<label for="rep6">Rep 6</label>
	<input type="number" name="rep6" id="rep6" placeholder="3.9" step="0.1" min="0.1" max="10">
	<label for="rep7">Rep 7</label>
	<input type="number" name="rep7" id="rep7" placeholder="3.9" step="0.1" min="0.1" max="10">
	<label for="rep8">Rep 8</label>
	<input type="number" name="rep8" id="rep8" placeholder="3.9" step="0.1" min="0.1" max="10">
	<label for="rep9">Rep 9</label>
	<input type="number" name="rep9" id="rep9" placeholder="3.9" step="0.1" min="0.1" max="10">
	<label for="rep10">Rep 10</label>
	<input type="number" name="rep10" id="rep10" placeholder="3.9" step="0.1" min="0.1" max="10">
</div>
<br>
<div class="rsa-calculate">
	<button id="rsa-calc-btn">Calculate RSA</button>
</div>
<hr>
<h3>2. Results</h3>
<div id="rsa-results" style="margin-top:15px;">
  <p><strong>Best Sprint Time (BST):</strong> <span id="rsa-bst">--</span> s</p>
  <p><strong>Average Sprint Time (AST):</strong> <span id="rsa-ast">--</span> s</p>
  <p><strong>Total Sprint Time (TST):</strong> <span id="rsa-tst">--</span> s</p>
  <p><strong>Percentage Decrement (%Dec):</strong> <span id="rsa-dec">--</span>%</p>
</div>
<canvas id="rsa-graph" width="600" height="300"></canvas>
<hr>
<h3>3. Plan Workouts</h3>
</section>

<hr>

<section id="programming">
	<h3>Weekly Programming</h3>
	<p>Select sport (cycling / running) and drag and drop saved sessions into the week</p>
</section>

</main>
<!-- External JS file -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@1.4.0"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2"></script>
<script src="script.js"></script>
</body>
</html>
